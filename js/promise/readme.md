# Promise JS 异步

1. 线程 

执行代码的最小单元

2. 进程

进程是线程的容器，每个进程至少有一个线程，即主线程，是分配资源的最小单位

3. 进程启动线程，把代码执行任务交给线程执行

4. JS 是单线程

1) 同步代码

从上到下，顺序执行

2) 异步代码

异步代码执行时，会占用一定的时间，称为时间开销

可能和阅读顺序不一样，但是一定在同步代码执行完成后执行

3) 单线程

为了让 JS 语言简单好学

JS 要负责事件、页面更新、用户交互等

一但碰到耗时性任务，先放入**事件循环**（event loop），接着执行其他同步代码

核心思想：为什么需要事件循环？

JavaScript 在设计之初就是一门单线程的编程语言。这意味着它只有一个主线程来处理所有任务。如果所有任务（比如网络请求、定时器、用户点击等）都按顺序执行，遇到一个耗时的任务（比如从服务器请求数据），整个页面就会“卡死”，直到这个任务完成。

这显然是不可接受的。为了解决这个问题，JavaScript 使用了一种称为 “事件循环” 的机制，它允许 JavaScript 在执行异步任务时不会阻塞主线程

5. Promise

ES6 提供了异步变同步的高级工具类

提供了 then 方法控制流程，让 then 方法中的回调函数在 Promise 中的异步任务完成后执行

new Promise 接受一个函数，函数接受两个参数 resolve, reject

 - 用于立即执行异步任务，执行完了，resolve() 方法会被调用，then 方法中的回调函数就会被执行，resolve() 方法中的参数，就会被传递给 then 方法中的回调函数
 - reject() 方法用于异步任务执行失败时，会触发 catch 方法中的回调函数，catch 方法中的回调函数会收到 reject() 方法中的参数
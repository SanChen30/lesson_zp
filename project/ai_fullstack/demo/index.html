<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const sleep = (n) => new Promise(
            (resolve) => setTimeout(() => {
                resolve();
            }, n * 1000)
);
        const main = () => {
            // 怎么变成并行？
            // await sleep(3);
            // await sleep(2);
            // return Promise.all([sleep(3), sleep(2), sleep(4)]);  // 取最大值 4s
            return Promise.race([sleep(3), sleep(2), sleep(4)]);    // 取最小值 2s
        }
        console.time("sleep");
        main()
            .then(() => {
                console.timeEnd("sleep");
            })
    </script>
</body>

</html>
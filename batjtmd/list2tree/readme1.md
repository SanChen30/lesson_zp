# 列表转树

## 面试官考点

1. 考察数据结构
   
1) parentId 父子关系

2) 是否是树，可不可以用递归来实现，root + children

2. JS api 能力

## 解法一 递归法

两层循环 时间复杂度 O(n^2)，一定可以构建完列表节点的父子关系

- 外层遍历每个节点，如果 parentId = 0，说明是根节点，直接加入结果数组
- 内层遍历每个节点，如果 parentId = 当前根节点的 id，说明是子节点，加入当前根节点的 children 数组

## 解法二 递归法优化

.filter 过滤出所有根节点，.map 遍历每个根节点，递归构建子树

## 解法三

空间换时间 Map 数据结构

1. ES5 实现

2. ES6 Map 实现


## 谈谈你在开发中哪里用到它

- 列表扁平化的存储？

- parentId 父子关系 树

1. 地址的三连弹，省、市、区

省市区 存在一张表里
Id  ParentId  Name
1   0         中国
2   1         北京
3   1         上海
4   2         东城区
5   2         西城区
6   3         黄浦区
7   3         徐汇区
...
121 0         江西
...
155 121       抚州
156 155       临川区


2. 树状目录 （后台管理系统）



